<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head th:include="include :: header"></head>
<body class="gray-bg">
	<div class="wrapper wrapper-content ">
		<div class="row">
			<div class="col-sm-12">
				<div class="ibox float-e-margins">
					<div class="ibox-content">
						<form class="form-horizontal m-t" id="signupForm">
							<input id="dictId" name="dictId" th:value="${dictionary.dictId}"  type="hidden">
							<div class="form-group">
								<label class="col-sm-3 control-label">字典类型：</label>
								<div class="col-sm-8">
									<input id="typeId" name="typeId" readonly th:value="${dictionary.typeId}" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label">字典名称：</label>
								<div class="col-sm-8">
									<input id="dictName" name="dictName" readonly th:value="${dictionary.dictName}" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label">字典数据值：</label>
								<div class="col-sm-8">
									<input id="dictValue" name="dictValue" readonly th:value="${dictionary.dictValue}" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label">字典描述：</label>
								<div class="col-sm-8">
									<input id="dictDesc" name="dictDesc" readonly th:value="${dictionary.dictDesc}" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label">排序优先级：</label>
								<div class="col-sm-8">
									<input id="dictSort" name="dictSort" readonly th:value="${dictionary.dictSort}" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label">删除标记：</label>
								<div class="col-sm-8">
									<input id="delFlag" name="delFlag" readonly th:value="${dictionary.delFlag}" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label">备注：</label>
								<div class="col-sm-8">
									<input id="remarks" name="remarks" readonly th:value="${dictionary.remarks}" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">	
								<label class="col-sm-3 control-label">创建时间：</label>
								<div class="col-sm-8">
									<input id="createTime" name="createTime" readonly th:value="${dictionary.createTimeString}" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">	
								<label class="col-sm-3 control-label">修改时间：</label>
								<div class="col-sm-8">
									<input id="updateTime" name="updateTime" readonly th:value="${dictionary.updateTimeString}" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">	
								<label class="col-sm-3 control-label">创建人：</label>
								<div class="col-sm-8">
									<input id="createBy" name="createBy" readonly th:value="${dictionary.createBy}" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">	
								<label class="col-sm-3 control-label">修改人：</label>
								<div class="col-sm-8">
									<input id="updateBy" name="updateBy" readonly th:value="${dictionary.updateBy}" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-8 col-sm-offset-3">
									<button type="submit" class="btn btn-primary" onclick="back();">返回</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
	</div>
	</div>
	<div th:include="include::footer"></div>
	<script type="text/javascript">
		$(function(){
            //字典类型的格式化
			var typeId = $("#typeId").val();
            $.ajax({
                type : "GET",
                url : "/config/dictionaryType/get/"+typeId,
                dataType : "json",
                async : false,
                success : function(data) {
                    $("#typeId").val(data.typeName);
                }
            });
            //删除标记的格式化
            var delFlag = $("#delFlag").val();
            $.ajax({
                type : "GET",
                url : "/config/dictionary/getByType/"+encodeURI(encodeURI("删除标记")),
                dataType : "json",
                async : false,
                success : function(data) {
                    $(data).each(function (index, dictionary) {
                        if (dictionary.dictValue == delFlag){
                            $("#delFlag").val(dictionary.dictName);
                        }
                    })
                }
            });
		});
        function back() {
            var index = parent.layer.getFrameIndex(window.name); // 获取窗口索引
            parent.layer.close(index);
        }
	</script>
</body>
</html>
